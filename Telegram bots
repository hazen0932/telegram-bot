from telegram import Update
from telegram.ext import Application, MessageHandler, filters, ContextTypes

TOKEN = "5889727085:AAHGcKmVfe6tDtBRlAc6ZjfU9rSrKOfPYHk"
OWNER_ID = 5261225274  # ID Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ

async def notify_owner(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user = update.effective_user
    message = update.message.text

    # ØªØ¬Ù‡ÙŠØ² Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    first_name = user.first_name or "Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…"
    username = f"@{user.username}" if user.username else "âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙŠÙˆØ²Ø±"
    user_id = user.id

    # Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ùƒ Ø£Ù†Øª ÙÙ‚Ø·
    text = (
        f"ğŸš¨ Ù…Ø³ØªØ®Ø¯Ù… Ø£Ø±Ø³Ù„ Ø±Ø³Ø§Ù„Ø©\n\n"
        f"ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: {first_name}\n"
        f"ğŸ”— Ø§Ù„ÙŠÙˆØ²Ø±: {username}\n"
        f"ğŸ†” ID: {user_id}\n"
        f"ğŸ’¬ Ø§Ù„Ø±Ø³Ø§Ù„Ø©: {message}"
    )
    await context.bot.send_message(chat_id=OWNER_ID, text=text)

def main():
    app = Application.builder().token(TOKEN).build()

    # Ù…Ø¹Ø§Ù„Ø¬ Ù„Ø£ÙŠ Ø±Ø³Ø§Ù„Ø© Ù†ØµÙŠØ© (Ø¨Ù…Ø§ ÙÙŠÙ‡Ø§ /start)
    app.add_handler(MessageHandler(filters.TEXT, notify_owner))

    print("ğŸ¤– Ø§Ù„Ø¨ÙˆØª ÙŠØ¹Ù…Ù„ Ø§Ù„Ø¢Ù† (polling)...")
    app.run_polling(allowed_updates=Update.ALL_TYPES)

if __name__ == "__main__":
    main()
